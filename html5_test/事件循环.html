<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
</head>
<body>
  
</body>
<script>
//3,5,7,2,4,6,1
  (function () {
    setTimeout(function () {
        console.log(1)
    },1000);
    setTimeout(function () {
        console.log(2)//宏任务1
    },0);
    new Promise(function (resolve) {
        console.log(3);//同步1
        setTimeout(function () {
            console.log(4);//宏任务2
            resolve();
        },0)
        console.log(5);//同步2
    }).then(function () {
        console.log(6);
    });
    console.log(7);//同步3
})()
</script>

<!-- then链 -->
<!-- <script>
    //1,8,2,3,9,4,7,5,6,0 
	// 宏任务层
	setTimeout(() => {
        console.log(0);
    },0)
    new Promise((resolve,reject)=>{
        console.log(1);
        resolve()
    })
    // 第一个微任务层
    .then(() => {
        console.log(2);
        new Promise((resolve,reject) => {
            console.log(3);
            resolve()
        })
        // 第二个微任务层
        .then(()=> {
            console.log(4);
        })
        // 第三个微任务层
        .then(()=> {
            console.log(5);
        })
        // 第四个微任务层
        .then(() => {
            console.log(6);
        })
    })
    //第二个微任务层
    .then(() => {
        console.log(7);
    })

    new Promise((resolve, reject) => {
        console.log(8);
        resolve()
    })
    //第一个微任务层
    .then(() => {
        console.log(9);
    })
</script> -->
</html>